import{j as e,_ as L,a7 as Ce,c as Q,P as _,b as K,$ as T,R as X,a8 as ke,a9 as Ee,V as Z,aa as q,ab as ee,ac as se,ad as Fe,a6 as ze,v as De,S as _e,r as te}from"./index-gKDmQDKx.js";import{u as Me,b as r}from"./vendor-react-CkoLqNPM.js";import{a as c}from"./config-DF7XQ776.js";import"./vendor-utils-BpP7enQf.js";const Le=()=>{const ae=Me(),[x,m]=r.useState("dashboard"),[I,f]=r.useState(!1),[h,j]=r.useState([]),[y,O]=r.useState([]),[M,re]=r.useState([]),[le,ne]=r.useState([]),[u,v]=r.useState([]),[,Y]=r.useState(!0),de=async()=>{try{Y(!0);const[s,t,l,n,d]=await Promise.all([c.get("/administration/students/"),c.get("/admissions/inquiries/"),c.get("/contact/career-applications/"),c.get("/contact/messages/"),c.get("/events/events/")]);j(s.data);const b=t.data.map(a=>({id:a.id,name:a.student_name||"Unknown",gender:a.gender,email:a.father_contact,phone:a.father_contact,date:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A",message:`Gender: ${a.gender}, Class: ${a.class_applied}, Father: ${a.father_name}${a.has_previous_schooling?`, Prev School: ${a.previous_school_name}, Prev Class: ${a.previous_class}`:""}`,status:a.status||"Pending"}));O(b);const B=l.data.map(a=>{const H=[];return a.position&&H.push(a.position),{...a,positions_display:H.join(", ")||"N/A",applied_date:a.created_at?new Date(a.created_at).toLocaleDateString():"N/A"}});re(B),ne(n.data),v(d?.data||[])}catch(s){console.error("Failed to fetch data",s)}finally{Y(!1)}};r.useEffect(()=>{window.scrollTo(0,0),de()},[]);const[R,ie]=r.useState(""),[$,oe]=r.useState("All"),[P,ce]=r.useState("All"),[N,V]=r.useState("All"),[w,g]=r.useState(""),[A,S]=r.useState("All"),[C,k]=r.useState("All"),[xe,E]=r.useState(!1),[i,U]=r.useState(null),[me,F]=r.useState(!1),[o,J]=r.useState(null),he=h.filter(s=>{const t=(s.name||"").toLowerCase().includes(R.toLowerCase())||s.student_id?.toLowerCase().includes(R.toLowerCase()),l=$==="All"||s.class_name===$,n=P==="All"||s.section===P;return t&&l&&n}),z=y.filter(s=>{const t=N==="All"||s.status===N;let l=!0;if(w)l=s.date===w;else if(s.date){const[n,d]=s.date.split("-");l=(A==="All"||parseInt(d)===parseInt(A))&&(C==="All"||n===C)}return t&&l}),ue=["All",...new Set(h.map(s=>s.class_name))].sort(),pe=["All",...new Set(h.map(s=>s.section))].sort(),ge=["All","2023","2024","2025"],be=[{val:"All",label:"Month: All"},{val:"01",label:"January"},{val:"02",label:"February"},{val:"03",label:"March"},{val:"04",label:"April"},{val:"05",label:"May"},{val:"06",label:"June"},{val:"07",label:"July"},{val:"08",label:"August"},{val:"09",label:"September"},{val:"10",label:"October"},{val:"11",label:"November"},{val:"12",label:"December"}],fe=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),ae("/login")},je=async s=>{if(window.confirm("Are you sure you want to delete this student?"))try{await c.delete(`/administration/students/${s}/`),j(h.filter(t=>t.id!==s))}catch(t){console.error("Failed to delete student",t),alert("Failed to delete student")}},ye=async s=>{s.preventDefault();const t=new FormData(s.target),l=Object.fromEntries(t),n={...l,class_name:l.class,parent_name:l.parent,student_id:i?i.student_id:`STU${Math.floor(Math.random()*1e4)}`};try{if(i){const d=await c.put(`/administration/students/${i.id}/`,n);j(h.map(b=>b.id===i.id?d.data:b))}else{const d=await c.post("/administration/students/",n);j([...h,d.data])}E(!1),U(null)}catch(d){console.error("Failed to save student",d),alert("Failed to save student")}},G=(s=null)=>{U(s),E(!0)},ve=async s=>{try{const t=await c.patch(`/admissions/inquiries/${s}/`,{status:"Resolved"});O(y.map(l=>l.id===s?t.data:l))}catch(t){console.error("Failed to resolve enquiry",t)}},Ne=async s=>{if(window.confirm("Are you sure you want to delete this event?"))try{await c.delete(`/events/events/${s}/`),v(u.filter(t=>t.id!==s))}catch(t){console.error("Failed to delete event",t),alert("Failed to delete event")}},we=async s=>{s.preventDefault();const t=new FormData(s.target);t.get("image").size===0&&t.delete("image");try{if(o){const n=await c.put(`/events/events/${o.id}/`,t,{headers:{"Content-Type":"multipart/form-data"}});v(u.map(d=>d.id===o.id?n.data:d))}else{const n=await c.post("/events/events/",t,{headers:{"Content-Type":"multipart/form-data"}});v([...u,n.data])}F(!1),J(null)}catch(n){console.error("Failed to save event",n),alert("Failed to save event")}},W=(s=null)=>{J(s),F(!0)},Ae=()=>{window.print()},p=({id:s,icon:t,label:l})=>e.jsxs("button",{onClick:()=>{m(s),f(!1)},className:`w-full flex items-center space-x-3 px-6 py-4 transition-colors ${x===s?"bg-[var(--color-secondary)] text-white border-r-4 border-[var(--color-primary)]":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(t,{size:20}),e.jsx("span",{className:"font-medium",children:l})]}),D=({label:s,value:t,icon:l,color:n,onClick:d})=>e.jsxs("div",{onClick:d,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center space-x-4 cursor-pointer hover:shadow-md transition-all hover:scale-[1.02] group",children:[e.jsx("div",{className:`p-4 rounded-full ${n} text-white group-hover:scale-110 transition-transform`,children:e.jsx(l,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:s}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t})]})]}),Se=({enq:s})=>e.jsx("div",{className:`group bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden ${s.status==="Resolved"?"opacity-90":""}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row min-h-[160px]",children:[e.jsxs("div",{className:"p-6 md:w-[280px] lg:w-[320px] bg-gray-50/80 border-b md:border-b-0 md:border-r border-gray-100 flex flex-col items-center md:items-start text-center md:text-left justify-center relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${s.status==="Resolved"?"bg-green-500":"bg-orange-500"}`}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 z-10 w-full justify-center md:justify-start",children:[e.jsx("div",{className:"w-12 h-12 bg-white text-[var(--color-primary)] border-2 border-[var(--color-primary)]/10 rounded-full flex items-center justify-center text-xl font-bold shadow-sm shrink-0",children:s.name?s.name.charAt(0):"?"}),e.jsxs("div",{className:"overflow-hidden text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:s.name}),e.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase ${s.gender==="Female"?"bg-pink-100 text-pink-600":s.gender==="Male"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:s.gender?s.gender.charAt(0):"?"})]}),e.jsxs("div",{className:"text-xs text-gray-400 font-medium flex items-center mt-1",children:[e.jsx(Z,{size:12,className:"mr-1"})," ",s.date]})]})]}),e.jsxs("div",{className:"space-y-2 w-full z-10 pl-1",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start text-sm text-gray-600 hover:text-[var(--color-primary)] transition-colors",children:[e.jsx(_e,{size:14,className:"mr-3 text-gray-600 font-semibold"}),e.jsx("span",{className:"font-semibold",title:s.phone,children:s.phone})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start text-sm text-gray-600 hover:text-[var(--color-primary)] transition-colors",children:[e.jsx(X,{size:14,className:"mr-3 text-gray-600"}),e.jsx("span",{className:"truncate font-semibold",title:s.email,children:s.email})]})]})]}),e.jsxs("div",{className:"p-8 flex-1 flex flex-col justify-center relative bg-white",children:[e.jsx(_,{className:"absolute top-6 left-6 text-gray-50 -z-0",size:80}),e.jsxs("div",{className:"relative z-10 pl-4 border-l-2 border-gray-100",children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Enquiry Message"}),e.jsxs("p",{className:"text-gray-700 leading-relaxed text-base font-medium",children:['"',s.message,'"']})]})]}),e.jsxs("div",{className:"p-6 md:w-48 flex flex-row md:flex-col items-center justify-between md:justify-center gap-4 bg-gray-50/50 border-t md:border-t-0 md:border-l border-gray-100",children:[e.jsxs("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-2 ${s.status==="Resolved"?"bg-green-100 text-green-700 ring-1 ring-green-200":"bg-orange-100 text-orange-700 ring-1 ring-orange-200 animate-pulse"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${s.status==="Resolved"?"bg-green-500":"bg-orange-500"}`}),s.status]}),s.status==="Pending"?e.jsxs("button",{onClick:()=>ve(s.id),className:"group md:w-full flex items-center justify-center gap-2 bg-white hover:bg-green-500 text-gray-600 hover:text-white px-4 py-2.5 rounded-xl border border-gray-200 hover:border-green-500 transition-all shadow-sm hover:shadow-md",title:"Mark as Resolved",children:[e.jsx(te,{size:18,className:"text-green-500 group-hover:text-white transition-colors"}),e.jsx("span",{className:"font-bold text-sm",children:"Resolve"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center text-green-500 opacity-80",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-50 flex items-center justify-center mb-1",children:e.jsx(te,{size:24})}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-green-700",children:"Completed"})]})]})]})});return e.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden no-print",onClick:()=>f(!1)}),e.jsxs("aside",{className:`fixed inset-y-0 left-0 bg-[var(--color-brand-navy)] w-64 transform ${I?"translate-x-0":"-translate-x-full"} lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-30 flex flex-col shadow-2xl no-print`,children:[e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[e.jsx("div",{className:"w-8 h-8 bg-[var(--color-primary)] rounded-lg flex items-center justify-center font-bold",children:"N"}),e.jsx("span",{className:"text-lg font-bold tracking-wide",children:"ADMIN PANEL"})]}),e.jsx("button",{onClick:()=>f(!1),className:"lg:hidden text-gray-400",children:e.jsx(L,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx(p,{id:"dashboard",icon:Ce,label:"Overview"}),e.jsx(p,{id:"students",icon:Q,label:"Students"}),e.jsx(p,{id:"enquiries",icon:_,label:"Admissions"}),e.jsx(p,{id:"events",icon:K,label:"Events"}),e.jsx(p,{id:"careers",icon:T,label:"Careers"}),e.jsx(p,{id:"messages",icon:X,label:"Contact Msgs"})]}),e.jsx("div",{className:"p-4 border-t border-gray-800",children:e.jsxs("button",{onClick:fe,className:"flex items-center space-x-3 text-red-400 hover:text-red-300 px-4 py-2 w-full transition-colors",children:[e.jsx(ke,{size:20}),e.jsx("span",{children:"Logout"})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col max-w-full overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 lg:px-8 z-10 no-print",children:[e.jsx("button",{onClick:()=>f(!0),className:"lg:hidden text-gray-600",children:e.jsx(Ee,{size:24})}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("p",{className:"text-sm font-bold text-gray-800",children:"Staff Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-600 font-bold border-2 border-white shadow-sm",children:"SA"})]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[x==="dashboard"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 no-print",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard Overview"}),e.jsx("p",{className:"text-gray-500",children:"Welcome back, here's what's happening today."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(D,{label:"Total Students",value:h.length,icon:Q,color:"bg-blue-500",onClick:()=>m("students")}),e.jsx(D,{label:"Admissions",value:y.length,icon:_,color:"bg-orange-500",onClick:()=>m("enquiries")}),e.jsx(D,{label:"Events",value:u.length,icon:K,color:"bg-green-500",onClick:()=>m("events")}),e.jsx(D,{label:"Career Apps",value:M.length,icon:T,color:"bg-purple-500",onClick:()=>m("careers")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Enquiries"}),e.jsx("button",{onClick:()=>m("enquiries"),className:"text-sm text-[var(--color-primary)] font-medium hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:y.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-start space-x-4 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shrink-0 ${s.status==="Resolved"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:s.name?s.name.charAt(0):"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate mb-1",children:s.message}),e.jsxs("div",{className:"flex items-center text-[10px] text-gray-400",children:[e.jsx(Z,{size:10,className:"mr-1"})," ",s.date]})]}),e.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${s.status==="Resolved"?"bg-green-50 text-green-600":"bg-orange-50 text-orange-600"}`,children:s.status})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Applications"}),e.jsx("button",{onClick:()=>m("careers"),className:"text-sm text-[var(--color-primary)] font-medium hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:M.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(T,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",children:s.position||"Unknown Role"}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:s.name||"Unknown Applicant"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:s.applied_date})})]},s.id))})]})]})]}),x==="students"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 no-print",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Students Directory"}),e.jsx("p",{className:"text-gray-500",children:"Manage student records and details."})]}),e.jsxs("button",{onClick:()=>G(),className:"flex items-center px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors shadow-md",children:[e.jsx(q,{size:18,className:"mr-2"})," Add Student"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4 items-center",children:[e.jsx("div",{className:"relative flex-1 w-full",children:e.jsx("input",{type:"text",placeholder:"Search by Name or ID...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)]",value:R,onChange:s=>ie(s.target.value)})}),e.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[e.jsxs("select",{className:"flex-1 md:w-32 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] bg-gray-50",value:$,onChange:s=>oe(s.target.value),children:[e.jsx("option",{value:"All",children:"Class: All"}),ue.filter(s=>s!=="All").map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{className:"flex-1 md:w-32 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] bg-gray-50",value:P,onChange:s=>ce(s.target.value),children:[e.jsx("option",{value:"All",children:"Section: All"}),pe.filter(s=>s!=="All").map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-gray-500 text-sm uppercase tracking-wider",children:[e.jsx("th",{className:"p-4 font-semibold",children:"ID"}),e.jsx("th",{className:"p-4 font-semibold",children:"Name"}),e.jsx("th",{className:"p-4 font-semibold",children:"Class"}),e.jsx("th",{className:"p-4 font-semibold",children:"Parent"}),e.jsx("th",{className:"p-4 font-semibold text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:he.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"p-4 text-gray-600 font-medium text-sm",children:s.student_id}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.name}),e.jsx("div",{className:"text-xs text-gray-400",children:s.email})]}),e.jsx("td",{className:"p-4 text-gray-600",children:e.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold",children:[s.class_name," - ",s.section]})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-gray-800",children:s.parent_name}),e.jsx("div",{className:"text-xs text-gray-500",children:s.phone})]}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>G(s),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg",children:e.jsx(ee,{size:16})}),e.jsx("button",{onClick:()=>je(s.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(se,{size:16})})]})]},s.id))})]})})})]}),x==="enquiries"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b border-gray-200 pb-4 no-print",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Enquiries"}),e.jsx("p",{className:"text-gray-500",children:"View and manage form submissions"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:Ae,className:"flex items-center px-4 py-2 bg-[var(--color-brand-navy)] text-white rounded-lg hover:bg-gray-800 transition-colors shadow-sm font-medium",children:[e.jsx(Fe,{size:18,className:"mr-2"}),"Print Enquiries"]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"flex items-center text-gray-500 font-medium",children:[e.jsx(ze,{size:18,className:"mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Filter Status:"})]}),e.jsxs("select",{className:"flex-1 md:w-40 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] bg-gray-50 font-medium text-gray-700",value:N,onChange:s=>V(s.target.value),children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Resolved",children:"Resolved"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 w-full md:w-auto",children:[e.jsx("input",{type:"date",className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] text-sm text-gray-600 shadow-sm",value:w,onChange:s=>{g(s.target.value),s.target.value&&(S("All"),k("All"))}}),e.jsx("span",{className:"text-gray-400 text-[10px] font-bold uppercase mx-1",children:"OR"}),e.jsx("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] bg-gray-50 text-sm shadow-sm",value:A,onChange:s=>{S(s.target.value),g("")},children:be.map(s=>e.jsx("option",{value:s.val,children:s.label},s.val))}),e.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-[var(--color-primary)] bg-gray-50 text-sm shadow-sm",value:C,onChange:s=>{k(s.target.value),g("")},children:[e.jsx("option",{value:"All",children:"Year: All"}),ge.filter(s=>s!=="All").map(s=>e.jsx("option",{value:s,children:s},s))]}),(w||A!=="All"||C!=="All"||N!=="All")&&e.jsx("button",{onClick:()=>{g(""),S("All"),k("All"),V("All")},className:"text-xs text-red-500 hover:text-red-700 hover:bg-red-50 px-2 py-1 rounded transition-colors ml-2",children:"Clear"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 w-full mx-auto md:mx-0 print:hidden",children:z.length>0?z.map(s=>e.jsx(Se,{enq:s},s.id)):e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-300",children:[e.jsx("div",{className:"mb-4 text-gray-300 flex justify-center",children:e.jsx(_,{size:48})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No enquiries found matching your filters."}),e.jsx("button",{onClick:()=>{g(""),S("All"),k("All"),V("All")},className:"mt-4 text-[var(--color-primary)] hover:underline text-sm font-bold",children:"Clear Filters"})]})}),e.jsxs("div",{className:"hidden print:block print:w-full",children:[e.jsxs("div",{className:"text-center mb-8 border-b-2 border-gray-800 pb-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-[var(--color-brand-navy)]",children:"NETHAJI VIDYALAYAM"}),e.jsx("p",{className:"uppercase tracking-widest text-sm font-bold text-gray-600",children:"Enquiry Report"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Generated on: ",new Date().toLocaleString()]})]}),z.length>0?e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-800 text-black",children:[e.jsx("th",{className:"py-2 pr-4 text-sm font-bold uppercase",children:"Date"}),e.jsx("th",{className:"py-2 pr-4 text-sm font-bold uppercase",children:"Name"}),e.jsx("th",{className:"py-2 pr-4 text-sm font-bold uppercase",children:"Gender"}),e.jsx("th",{className:"py-2 pr-4 text-sm font-bold uppercase",children:"Phone"}),e.jsx("th",{className:"py-2 pr-4 text-sm font-bold uppercase",children:"Email"}),e.jsx("th",{className:"py-2 text-sm font-bold uppercase",children:"Status"})]})}),e.jsx("tbody",{children:z.map(s=>e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"py-3 pr-4 text-sm text-gray-800",children:s.date}),e.jsx("td",{className:"py-3 pr-4 text-sm font-semibold text-gray-900",children:s.name}),e.jsx("td",{className:"py-3 pr-4 text-sm text-gray-800",children:s.gender}),e.jsx("td",{className:"py-3 pr-4 text-sm text-gray-800",children:s.phone}),e.jsx("td",{className:"py-3 pr-4 text-sm text-gray-800",children:s.email}),e.jsx("td",{className:"py-3 pr-4 text-sm text-gray-800",children:e.jsx("span",{className:` ${s.status==="Resolved"?"text-green-700 font-bold":"text-orange-700 font-bold"}`,children:s.status})})]},s.id))})]}):e.jsx("p",{className:"text-center text-gray-500 italic mt-8",children:"No matching enquiries found."}),e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-400 flex justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Confidential Report"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Page 1"})]})]})]}),x==="events"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 no-print",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Events Management"}),e.jsx("p",{className:"text-gray-500",children:"Manage school events and activities."})]}),e.jsxs("button",{onClick:()=>W(),className:"flex items-center px-4 py-2 bg-[var(--color-primary)] text-white rounded-lg hover:bg-[var(--color-primary-hover)] transition-colors shadow-md",children:[e.jsx(q,{size:18,className:"mr-2"})," Add Event"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-gray-500 text-sm uppercase tracking-wider",children:[e.jsx("th",{className:"p-4 font-semibold",children:"Date"}),e.jsx("th",{className:"p-4 font-semibold",children:"Title"}),e.jsx("th",{className:"p-4 font-semibold",children:"Category"}),e.jsx("th",{className:"p-4 font-semibold",children:"Location"}),e.jsx("th",{className:"p-4 font-semibold text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50",children:[u.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-4 text-gray-600 font-medium text-sm",children:[e.jsx("div",{children:s.date}),e.jsx("div",{className:"text-xs text-gray-400",children:s.time})]}),e.jsx("td",{className:"p-4 font-bold text-gray-800",children:s.title}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold uppercase",children:s.category})}),e.jsx("td",{className:"p-4 text-gray-600 text-sm",children:s.location}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>W(s),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg",children:e.jsx(ee,{size:16})}),e.jsx("button",{onClick:()=>Ne(s.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(se,{size:16})})]})]},s.id)),u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No events found. Add your first event!"})})]})]})})})]}),x==="careers"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 no-print",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Job Applications"}),e.jsx("p",{className:"text-gray-500",children:"Review received applications for open positions."})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-gray-500 text-sm uppercase tracking-wider",children:[e.jsx("th",{className:"p-4 font-semibold",children:"Applicant Name"}),e.jsx("th",{className:"p-4 font-semibold",children:"Position"}),e.jsx("th",{className:"p-4 font-semibold",children:"Qualification"}),e.jsx("th",{className:"p-4 font-semibold",children:"Prof. Degree"}),e.jsx("th",{className:"p-4 font-semibold",children:"Applied Date"}),e.jsx("th",{className:"p-4 font-semibold text-right",children:"Resume"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:M.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.name}),e.jsx("div",{className:"text-xs text-gray-400",children:s.email})]}),e.jsx("td",{className:"p-4 text-gray-700 font-medium",children:s.positions_display}),e.jsx("td",{className:"p-4 text-gray-600 text-sm",children:s.qualification||"N/A"}),e.jsx("td",{className:"p-4 text-gray-600 text-sm",children:s.professional_degree||"N/A"}),e.jsx("td",{className:"p-4 text-gray-500 text-sm",children:s.applied_date}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-[var(--color-brand-navy)] transition-colors",children:[e.jsx(De,{size:14,className:"mr-2"})," Download"]})})]},s.id))})]})})]}),x==="messages"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 no-print",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Contact Messages"}),e.jsx("p",{className:"text-gray-500",children:"General inquiries and feedback from Contact Us page."})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-gray-500 text-sm uppercase tracking-wider",children:[e.jsx("th",{className:"p-4 font-semibold",children:"Date"}),e.jsx("th",{className:"p-4 font-semibold",children:"Name"}),e.jsx("th",{className:"p-4 font-semibold",children:"Subject"}),e.jsx("th",{className:"p-4 font-semibold",children:"Message"}),e.jsx("th",{className:"p-4 font-semibold text-right",children:"Contact"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:le.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"p-4 text-gray-500 text-sm",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"p-4 font-bold text-gray-800",children:s.name}),e.jsx("td",{className:"p-4 text-gray-700",children:e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded text-xs font-bold uppercase",children:s.subject})}),e.jsx("td",{className:"p-4 text-gray-600 text-sm max-w-xs truncate",title:s.message,children:s.message}),e.jsxs("td",{className:"p-4 text-right",children:[e.jsx("div",{className:"text-sm text-gray-800",children:s.email}),e.jsx("div",{className:"text-xs text-gray-500",children:s.phone})]})]},s.id))})]})})]})]})]}),xe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 no-print",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:i?"Edit Student":"Add New Student"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{name:"name",defaultValue:i?.name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Email"}),e.jsx("input",{name:"email",type:"email",defaultValue:i?.email,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Class"}),e.jsx("input",{name:"class",defaultValue:i?.class_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Section"}),e.jsx("input",{name:"section",defaultValue:i?.section,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Parent"}),e.jsx("input",{name:"parent",defaultValue:i?.parent_name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{name:"phone",defaultValue:i?.phone,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] text-white rounded-lg font-bold",children:"Save Student"})]})]})]})}),me&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 no-print",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:o?"Edit Event":"Add New Event"}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(L,{size:24})})]}),e.jsxs("form",{onSubmit:we,className:"p-6 space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Event Title"}),e.jsx("input",{name:"title",defaultValue:o?.title,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Date"}),e.jsx("input",{name:"date",type:"date",defaultValue:o?.date,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Time"}),e.jsx("input",{name:"time",type:"time",defaultValue:o?.time,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{name:"category",defaultValue:o?.category||"Academic",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[e.jsx("option",{value:"Academic",children:"Academic"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Cultural",children:"Cultural"}),e.jsx("option",{value:"Workshop",children:"Workshop"}),e.jsx("option",{value:"Celebration",children:"Celebration"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Location"}),e.jsx("input",{name:"location",defaultValue:o?.location,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",rows:"4",defaultValue:o?.description,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Event Image"}),o?.image&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Current: ",o.image]}),e.jsx("input",{name:"image",type:"file",accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"pt-4 flex justify-end space-x-3 border-t border-gray-100 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] text-white rounded-lg font-bold",children:"Save Event"})]})]})]})})]})};export{Le as default};
